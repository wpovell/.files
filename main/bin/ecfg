#!/sbin/fish

function usage
    echo "ecfg [-h] [list | <program>]
    Opens the given program's config for editing.
    "
    exit
end

if test -z $argv[1]
   usage
end

switch $argv[1]
    case -h --help
        usage
    case tmux
        set F ~/.tmux.conf
    case kitty
        set F ~/.config/kitty/kitty.conf
    case zathura
        set F ~/.config/zathura/zathurarc
    case env
        set F ~/.env
    case fish
        set F ~/.config/fish/config.fish
    case bash
        set F ~/.bashrc
    case alias
        set F ~/.aliases
    case completion
        set F ~/.bash_completion
    case zsh
        set F ~/.zshrc
    case i3
        set F ~/.config/i3/config
    case dunst
        set F ~/.config/dunst/dunstrc
    case emacs
        set F ~/.emacs.d/init.el
    case firefox
        set F ~/.mozilla/firefox/*/chrome/userChrome.css
    case polybar
        set F ~/.config/polybar/config
    case ssh
        set F ~/.ssh/config
    case git
        set F ~/.gitconfig
    case urxvt
        set F ~/.Xresources.d/urxvt
    case rofi
        set F ~/.Xresources.d/rofi
    case list
        cat ~/bin/ecfg | \
        grep case | \
        tr -s ' ' | \
        cut -d' ' -f3 | \
        grep -v '\-h\|"'
        exit
    case "*"
        echo "No such config file '$argv[1]'"
        exit 1
end

eval $EDITOR $F
