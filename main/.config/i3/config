# Custom Stuff
set $mod Mod4
set $HOME $HOME

# Split direction
default_orientation horizontal

# Startup
exec_always --no-startup-id $HOME/bin/support/start -r
exec --no-startup-id $HOME/bin/support/start

# Spotify
for_window [class="Spotify"] move container to workspace $SpotifyWS
bindsym $mod+s workspace $SpotifyWS
no_focus [class="spotify"]

# Mail
bindsym $mod+m exec --no-startup-id $HOME/bin/support/polybar/mail open

# Pass
bindsym $mod+p exec --no-startup-id pass rofi

# Dropdown term
bindsym $mod+t [instance="dropdown"] scratchpad show
bindsym $mod+e exec --no-startup-id $HOME/bin/rofi/emoji
bindsym $mod+d exec --no-startup-id rofi -show run
bindsym --release F2 exec --no-startup-id $HOME/bin/support/shrugie

# Screenshot
bindsym Print exec --no-startup-id screenshot
bindsym $mod+Shift+s exec --no-startup-id screenshot
bindsym --release $mod+ctrl+s exec --no-startup-id screenshot -s
bindsym $mod+c exec --no-startup-id firefox-nightly

# Colors from Xresources
set_from_resource $borderF color8
set_from_resource $borderUF color0
set_from_resource $blue color12

# Jump to application when started
focus_on_window_activation focus

# Borders
client.focused $borderF $borderF $borderF $blue
client.focused_inactive $borderUF $borderUF $borderUF $borderUF
client.unfocused $borderUF $borderUF $borderUF $borderF $borderUF
client.urgent #000000 #000000 #000000

for_window [class="^.*"] border pixel 4
for_window [instance="dropdown"] border pixel 0

# Gaps
gaps inner 10
gaps outer 0

smart_gaps on
smart_borders on

# Drag floating windows
floating_modifier $mod

# Change window
bindsym ctrl+alt+f1 gksudo chvt 1
bindsym ctrl+alt+f2 gksudo chvt 2

# Start Term
bindsym $mod+Return exec --no-startup-id urxvtc

# Kill focused window
bindsym $mod+Shift+q kill

# Change focus
bindsym $mod+Left focus left
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right

# Move focused window
bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Right move right

# Split horizontal
bindsym $mod+h split h

# Split vertical
bindsym $mod+v split v

# Fullscreen
bindsym $mod+f fullscreen toggle

# Toggle tiling / floating
bindsym $mod+Shift+space floating toggle

# Change focus between tiling / floating
bindsym $mod+space focus mode_toggle

# Focus the parent container
bindsym $mod+Shift+a focus parent

# Move the currently focused window to the scratchpad
bindsym $mod+Shift+minus move scratchpad

# Show the next scratchpad window or hide the focused scratchpad window.
# If there are multiple scratchpad windows, this command cycles through them.
bindsym $mod+minus scratchpad show

# Workspaces
set $SpotifyWS "99: "
set $workspace1 "1: I"
set $workspace2 "2: II"
set $workspace3 "3: III"
set $workspace4 "4: IV"
set $workspace5 "5: V"
set $workspace6 "6: VI"
set $workspace7 "7: VII"
set $workspace8 "8: IIX"
set $workspace9 "9: IX"
set $workspace10 "99: "

# Change workspace
bindsym Control+$mod+Left workspace prev
bindsym Control+$mod+Right workspace next

# Switch to workspace
bindsym $mod+1 workspace $workspace1
bindsym $mod+2 workspace $workspace2
bindsym $mod+3 workspace $workspace3
bindsym $mod+4 workspace $workspace4
bindsym $mod+5 workspace $workspace5
bindsym $mod+6 workspace $workspace6
bindsym $mod+7 workspace $workspace7
bindsym $mod+8 workspace $workspace8
bindsym $mod+9 workspace $workspace9
bindsym $mod+0 workspace $workspace10

# Swap
bindsym Control+$mod+1 exec --no-startup-id switch $workspace1
bindsym Control+$mod+2 exec --no-startup-id switch $workspace2
bindsym Control+$mod+3 exec --no-startup-id switch $workspace3
bindsym Control+$mod+4 exec --no-startup-id switch $workspace4
bindsym Control+$mod+5 exec --no-startup-id switch $workspace5
bindsym Control+$mod+6 exec --no-startup-id switch $workspace6
bindsym Control+$mod+7 exec --no-startup-id switch $workspace7
bindsym Control+$mod+8 exec --no-startup-id switch $workspace8
bindsym Control+$mod+9 exec --no-startup-id switch $workspace9
bindsym Control+$mod+0 exec --no-startup-id switch $workspace10


# Move focused container to workspace
bindsym $mod+Shift+1 move container to workspace $workspace1
bindsym $mod+Shift+2 move container to workspace $workspace2
bindsym $mod+Shift+3 move container to workspace $workspace3
bindsym $mod+Shift+4 move container to workspace $workspace4
bindsym $mod+Shift+5 move container to workspace $workspace5
bindsym $mod+Shift+6 move container to workspace $workspace6
bindsym $mod+Shift+7 move container to workspace $workspace7
bindsym $mod+Shift+8 move container to workspace $workspace8
bindsym $mod+Shift+9 move container to workspace $workspace9
bindsym $mod+Shift+0 move container to workspace $workspace10

# Reload the configuration file
bindsym $mod+Shift+c reload
# Restart i3 inplace (preserves your layout/session, can be used to upgrade i3)
bindsym $mod+Shift+r restart

bindsym $mod+Shift+e exec --no-startup-id i3-msg exit
bindsym $mod+Escape exec --no-startup-id $HOME/bin/rofi/power

## Music
bindsym XF86AudioPrev exec --no-startup-id muse prev
bindsym F7 exec --no-startup-id muse prev
bindsym $mod+Mod1+Left exec --no-startup-id muse prev

bindsym XF86AudioPause exec --no-startup-id muse toggle
bindsym F8 exec --no-startup-id muse toggle
bindsym $mod+Mod1+space exec --no-startup-id muse toggle

bindsym XF86AudioNext exec --no-startup-id muse next
bindsym F9 exec --no-startup-id muse next
bindsym $mod+Mod1+Right exec --no-startup-id muse next

bindsym XF86AudioMute exec --no-startup-id muse mute
bindsym F10 exec --no-startup-id muse mute

bindsym XF86AudioLowerVolume exec --no-startup-id muse down
bindsym F11 exec --no-startup-id muse down
bindsym $mod+Mod1+Down exec --no-startup-id muse down

bindsym XF86AudioRaiseVolume exec --no-startup-id muse up
bindsym F12 exec --no-startup-id muse up
bindsym $mod+Mod1+Up exec --no-startup-id muse up

# Brightness
bindsym XF86MonBrightnessUp exec --no-startup-id xbacklight -inc 10
bindsym XF86MonBrightnessDown exec --no-startup-id xbacklight -dec 10

# Swipe (currently I don't have any machines that use this)
bindsym --whole-window button11 workspace prev
bindsym --whole-window button10 workspace next

# Resize window
mode "Resize" {
        # These bindings trigger as soon as you enter the resize mode

        # Increase/Decrease
        bindsym $left       resize shrink width 10 px or 10 ppt
        bindsym $down       resize shrink height 10 px or 10 ppt
        bindsym $up         resize grow height 10 px or 10 ppt
        bindsym $right      resize grow width 10 px or 10 ppt

        # (Same with arrows)
        bindsym Left        resize shrink width 10 px or 10 ppt
        bindsym Down        resize grow height 10 px or 10 ppt
        bindsym Up          resize shrink height 10 px or 10 ppt
        bindsym Right       resize grow width 10 px or 10 ppt

        # Back to normal
        bindsym Return mode "default"
        bindsym Escape mode "default"
}

bindsym $mod+r mode "Resize"

## i3bar

set_from_resource $background color0
set_from_resource $foreground foreground
set_from_resource $barFocus color4
set_from_resource $barUnfocus color8
set_from_resource $barMode color1
set_from_resource $bright color12
set $transparent #00000000

set_from_resource $showBar showBar

bar {
    mode $showBar
    modifier none
    tray_output none
    status_command i3status
    font xft:FontAwesome, Inconsolata 8
    strip_workspace_numbers yes
    colors {
      statusline $foreground
      background $background
      separator $transparent

      focused_workspace $background $background $barFocus
      inactive_workspace $background $background $foreground
      active_workspace $barFocus $background $barUnfocus
      urgent_workspace $background $background $foreground
      binding_mode $barMode $barMode $background
    }
}

### Unusued ###

## In case I ever want to have title bars
#for_window [class="Nightly"] border pixel 3
#font pango:Inconsolata 10    ##Sets title bar thickness
#for_window [class=".*"] title_format "<span size='small' foreground='white' font='Inconsolata'> ♦ %title</span>" #Set actual title font and size

## Change container layout
#bindsym $mod+s layout stacking
#bindsym $mod+w layout tabbed
#bindsym $mod+e layout toggle split

## Cycles avoiding dropdown
# Unforunately this shows all / none of the scratchpad
#bindsym $mod+minus [instance="^((?!dropdown).)*$"] scratchpad show
